# yaml-language-server: $schema=https://aliae.dev/schema.json
alias:
  - name: a
    value: aliae
  - name: g
    value: git
  - name: j
    value: just

  # shortcuts
  - name: ":q"
    value: exit
  - name: cls
    value: clear
  - name: reboot
    value: sudo shutdown -r now
  - name: reset-time
    value: sudo ntpdate -sb time.nist.gov
  - name: zshconfig
    value: $EDITOR ~/.zshrc
  - name: zshrc
    value: $EDITOR ~/.zshrc

  # chezmoi shortcuts
  - name: dotfiles
    value: chezmoi
  - name: df
    value: chezmoi

  # clipboard utilities
  - name: pbcopy
    value: xclip -selection clipboard
  - name: pbpaste
    value: xclip -selection clipboard -o
  - name: pubkey
    value: more ~/.ssh/id_ed25519.pub | pbcopy | echo '=> Public key copied to pasteboard.'

  # navigation shortcuts
  - name: cdr
    value: cd-gitroot
  - name: mkdir
    value: mkdir -p
  - name: md
    value: mkdir -p
  - name: rd
    value: rmdir
  - name: ..
    value: cd ..
  - name: ...
    value: cd ../..
  - name: ....
    value: cd ../../..
  - name: .....
    value: cd ../../../..
  - name: ......
    value: cd ../../../../..
  - name: "1"
    value: cd -1
  - name: "2"
    value: cd -2
  - name: "3"
    value: cd -3
  - name: "4"
    value: cd -4
  - name: "5"
    value: cd -5
  - name: "6"
    value: cd -6
  - name: "7"
    value: cd -7
  - name: "8"
    value: cd -8
  - name: "9"
    value: cd -9

  # ls aliases
  # NOTE: In zsh, l/la/ll/lla/lt/lta are overridden by zpm-zsh/ls plugin
  # The plugin uses eza/lsd/exa with icons and git status if available
  # All other aliases below (lsa/lr/ldot/lS/lart/lrt/lsr/lsn) work as defined
  - name: l
    value: ls -lFh
  - name: la
    value: ls -lAFh
  - name: ll
    value: ls -l
  - name: lsa
    value: ls -lah
  - name: lr
    value: ls -tRFh
  - name: lt
    value: ls -ltFh
  - name: ldot
    value: ls -ld .*
  - name: lS
    value: ls -1FSsh
  - name: lart
    value: ls -1Fcart
  - name: lrt
    value: ls -1Fcrt
  - name: lsr
    value: ls -lARFh
  - name: lsn
    value: ls -1

  # disk usage
  - name: du
    value: du -hd1 | sort -h

  # utilities
  - name: grep
    value: grep --color
  - name: rmlint
    value: \rmlint -g -C

  # rsync aliases
  - name: rsync-copy
    value: rsync -avz --progress -h
  - name: rsync-move
    value: rsync -avz --progress -h --remove-source-files
  - name: rsync-update
    value: rsync -avzu --progress -h
  - name: rsync-synchronize
    value: rsync -avzu --delete --progress -h

  # git aliases - from usage history
  - name: gco
    value: git checkout
  - name: gcam
    value: git commit --all --message
  - name: grhh
    value: git reset --hard
  - name: ga
    value: git add
  - name: gp
    value: git push
  - name: gba
    value: git branch --all
  - name: gwta
    value: git worktree add
  - name: grh
    value: git reset
  - name: gfa
    value: git fetch --all
  - name: gs
    value: git status --short
  - name: gpf
    value: git push --force-with-lease
  - name: gl
    value: git pull
  - name: gd
    value: git diff
  - name: gb
    value: git branch
  - name: gst
    value: git status

  # git aliases - recommended additions
  - name: gaa
    value: git add --all
  - name: gcb
    value: git checkout -b
  - name: gcm
    value: git checkout main
  - name: gcan!
    value: git commit --all --no-edit --amend
  - name: glo
    value: git log --oneline --decorate
  - name: glol
    value: git log --graph --pretty="%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)<%an>%Creset"
  - name: glola
    value: git log --graph --pretty="%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)<%an>%Creset" --all
  - name: gsta
    value: git stash push
  - name: gstp
    value: git stash pop
  - name: gstl
    value: git stash list
  - name: gpr
    value: git pull --rebase
  - name: gpra
    value: git pull --rebase --autostash
  - name: gpsup
    value: git push --set-upstream origin $(git rev-parse --abbrev-ref HEAD 2>/dev/null)
  - name: gdca
    value: git diff --cached
  - name: grbi
    value: git rebase --interactive
  - name: grbm
    value: git rebase main
  - name: grt
    value: cd "$(git rev-parse --show-toplevel || echo .)"

  # git aliases - existing custom ones
  - name: gcd
    value: cd-gitroot
  - name: glr
    value: git pull --rebase
  - name: gpo
    value: git push -u origin HEAD
  - name: gsync
    value: hub sync
  - name: gsv
    value: HUB_VERBOSE=1 hub sync
  - name: gsc
    value: git clone --filter=tree:0
  - name: gnd
    value: git clean -dn
  - name: gndd
    value: git clean -df
  - name: gui
    value: gitui

  # package management
  - name: default-blindspot-packages
    value: xargs blindspot install <~/.default-blindspot-packages
  - name: default-cargo-crates
    value: xargs cargo install <~/.default-cargo-crates
  - name: default-eget
    value: xargs eget <~/.default-eget
  - name: default-nix-packages
    value: xargs nix-env -iA <~/.default-nix-packages
  - name: default-npm-packages
    value: xargs npm i -g <~/.default-npm-packages
  - name: extra-npm-packages
    value: xargs npm i -g <~/.extra-npm-packages
  - name: default-pacman
    value: sudo xargs pacman -Syyu --needed --noconfirm <~/.default-pacman-packages
  - name: default-python-packages
    value: xargs pip install <~/.default-python-packages

  # zfs utilities
  - name: zfs-space
    value: zfs list -o space -r deadpool wolverine x23
  - name: zfs-snaps
    value: zfs list -t snapshot -S creation
  - name: zfs-sync
    value: syncoid --no-stream --no-sync-snap --create-bookmark
  - name: zfs-snap-delete
    value: sudo zfs destroy -v

  # brew shortcuts
  - name: b
    value: brew
  - name: bupd
    value: brew update && brew outdated
  - name: bupg
    value: brew upgrade

  # pnpm shortcuts
  - name: p
    value: pnpm
  - name: pi
    value: pnpm i
  - name: pif
    value: pnpm i --frozen-lockfile

  # node version managers
  - name: nvm
    value: fnm
  - name: nvs
    value: fnm

  # editor and config
  - name: edit
    value: $EDITOR
  - name: aliases
    value: $EDITOR $HOME/.aliae.yaml
  - name: refreshenv
    value: exec zsh

  # ssh
  - name: ssh
    value: ssh-ident

# Script to define directory stack function, ff with fd fallback, and - alias
script:
  - value: |
      # Directory stack viewer
      function d () {
        if [[ -n $1 ]]; then
          dirs "$@"
        else
          dirs -v | head -n 10
        fi
      }

      # Find files - use fd if available, fallback to find
      function ff() {
        if command -v fd >/dev/null 2>&1; then
          fd --type f "$@"
        else
          find . -type f -name "$@"
        fi
      }

      # Dash alias for cd to previous directory (needs special syntax)
      alias -- -='cd -'
    if: match .Shell "zsh"
